/**
 * @license
 * (c) Copyright 2023 Grammarly, Inc.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *     http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function t(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}var n=new Map;class r extends Error{constructor(n,r){super(),t(this,"args",void 0),t(this,"code",void 0),t(this,"url",void 0),t(this,"_c",void 0);var e=new URL("https://developer.grammarly.com/docs/error-explainer");e.searchParams.set("code",n.toString()),r.forEach((t=>e.searchParams.append("args",function(t){if(t instanceof Error)return t.message+"\n"+String(t.stack);if(null==t)return"null";if("object"==typeof t)try{return Object.prototype.toString.call(t)}catch(t){}return String(t)}(t)))),null!=this.stack&&e.searchParams.set("trace",this.stack),this.message="Minified error #".concat(n,": See ").concat(e.toString()," for details."),this.args=r,this.code=n,this.url=e.toString()}toUserMessage(){var t=n.get("".concat(this.code));if(null==t)return[this];var r=new Map(this.args.map(((t,n)=>["${".concat(n,"}"),t]))),e=t.split(/(\${\d+})/).filter((t=>""!==t));return e.map((t=>{var n;return null!==(n=r.get(t))&&void 0!==n?n:t}))}toJSON(){return{name:"InvariantError",message:this.message,description:this._n,code:this.code,args:this.args,stack:this.stack}}static setMessages(t){n=t}static create(t,n,e,a){null!=a&&n.push(a);var o=new r(t,n,e);return o.stack=null==a?void 0:a.stack,o._n=e,o}}const e=new WeakMap;async function a(t,n){const a=e.get(t);if(null!=a)return await a;!function(t){null==t.Grammarly&&(t.Grammarly={})}(t);const o=new Promise(((e,a)=>{try{let e=function(t,n){return t.document.querySelectorAll(`script[src^="${n.replace(/\?.*$/,"")}"]`)[0]}(t,n);null!=e?o():(e=function(t,n){const r=t.document.createElement("script");return r.src=n,t.document.head.appendChild(r),r}(t,n),e.addEventListener("load",o),e.addEventListener("error",(function(){try{throw new r(23,[])}catch(t){a(t)}})))}catch(t){return a(t)}function o(){try{if(null==t.Grammarly||"function"!=typeof t.Grammarly.EditorSDK)throw new r(22,[]);e(t.Grammarly)}catch(t){a(t)}}}));return e.set(t,o),await o}async function o(t,n,r){return await s("@grammarly/editor-sdk",t,n,r)}async function s(t,n,e,o){if("undefined"==typeof window&&void 0===o)throw new r(21,[]);const s=function(t){return"null"!==t.location.origin?t.location.origin:"null"!==t.origin?t.origin:"null"}(null!=o?o:window);"null"===s&&(null!=o?o:window).top!==(null!=o?o:window)&&console.warn("Grammarly is not supported in IFrames with `null` origin. Consider adding `sandbox='allow-same-origin allow-scripts'` to <iframe> element.");const i=new URL("https://js.grammarly.com/grammarly-editor-sdk@2.3",s);null!=n&&i.searchParams.set("clientId",n),i.searchParams.set("packageName",t);const c=await a(null!=o?o:window,i.toString());if(null!=n)return new c.EditorSDK(n,e)}const i={onBeforeSuggestionCardOpen:"before-suggestion-card-open",onSuggestionCardOpen:"suggestion-card-open",onSuggestionCardClose:"suggestion-card-close",onPluginTurnedOff:"plugin-turned-off",onPluginError:"plugin-error",onDocumentStats:"document-stats",onSessionStats:"session-stats"};export{i as callbackToEventName,o as init,s as init_with_packageName};
